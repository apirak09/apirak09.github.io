<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jack & Nymph: Christmas Date üéÑ‚ú®</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Mali:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- 1. Global & Backgrounds --- */
        body {
            font-family: 'Kanit', sans-serif;
            background: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            color: #4a4a4a;
        }

        .handwritten {
            font-family: 'Mali', cursive;
        }

        /* --- 2. Map Area Styles --- */
        .map-area {
            position: relative;
            background-color: #f1f5f9; /* Slate 100 */
            /* Creative Road Pattern */
            background-image: 
                linear-gradient(#fff 4px, transparent 4px),
                linear-gradient(90deg, #fff 4px, transparent 4px);
            background-size: 80px 80px;
            background-position: -2px -2px;
            overflow: hidden;
            transition: all 0.5s ease;
            box-shadow: inset -5px 0 15px rgba(0,0,0,0.05);
        }

        /* Roads */
        .road {
            position: absolute;
            background: #cbd5e1;
            z-index: 0;
        }
        .road-v { width: 12px; height: 100%; top: 0; }
        .road-h { height: 12px; width: 100%; left: 0; }

        /* Decorative Buildings */
        .building-block {
            position: absolute;
            background: #e2e8f0;
            border: 2px solid #cbd5e1;
            border-radius: 4px;
            box-shadow: 2px 2px 0px #94a3b8;
            z-index: 0;
            pointer-events: none;
        }
        
        /* Trees */
        .map-tree {
            position: absolute;
            color: #4ade80;
            font-size: 1rem;
            z-index: 1;
            opacity: 0.8;
            text-shadow: 1px 1px 0 #166534;
        }

        /* SVG Path */
        .path-svg {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2; pointer-events: none;
            filter: drop-shadow(0px 3px 2px rgba(0,0,0,0.1));
        }

        /* BTS Train Icon Decoration */
        .bts-decor {
            position: absolute;
            font-size: 1.2rem;
            color: #0ea5e9; /* Sky blue */
            z-index: 2;
            animation: trainMove 15s linear infinite;
        }
        @keyframes trainMove {
            0% { left: -10%; top: 10%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { left: 110%; top: 10%; opacity: 0; }
        }

        /* --- 3. Avatar Styles --- */
        #avatar {
            position: absolute;
            width: 55px; height: 55px;
            background: #fff;
            border: 3px solid #fff;
            border-radius: 50%;
            display: flex;
            align-items: center; justify-content: center;
            font-size: 1.8rem;
            z-index: 20;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
            transition: top 1.2s cubic-bezier(0.34, 1.56, 0.64, 1), 
                        left 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform: translate(-50%, -50%);
        }

        #avatar::after {
            content: '';
            position: absolute;
            top: -5px; left: -5px; right: -5px; bottom: -5px;
            border-radius: 50%;
            border: 2px dashed #ff9a9e;
            animation: spin 8s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }
        .walking { animation: bounceWalk 0.4s infinite alternate; }
        @keyframes bounceWalk {
            0% { transform: translate(-50%, -50%) scale(1); }
            100% { transform: translate(-50%, -65%) scale(1.05) rotate(5deg); }
        }

        /* --- 4. Landmark Styles --- */
        .landmark {
            position: absolute;
            transform: translate(-50%, -50%);
            display: flex; flex-direction: column; align-items: center;
            transition: all 0.3s ease;
            z-index: 10; cursor: pointer;
        }

        .landmark-icon {
            width: 42px; height: 42px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid #e0e7ff;
            color: #a5b4fc;
            font-size: 1.1rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 12;
        }

        .landmark.active .landmark-icon {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            color: white; border-color: #fff; transform: scale(1.3);
            box-shadow: 0 0 20px rgba(253, 160, 133, 0.6);
            animation: pulse 2s infinite;
        }

        .landmark.visited .landmark-icon {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            color: white; border-color: white;
        }

        .landmark-label {
            margin-top: 8px;
            background: rgba(255,255,255,0.95);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            color: #555;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            opacity: 0.8;
            font-family: 'Mali', cursive;
            z-index: 12;
        }

        .landmark.active .landmark-label { color: #d946ef; opacity: 1; transform: scale(1.1); }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(253, 160, 133, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(253, 160, 133, 0); } 100% { box-shadow: 0 0 0 0 rgba(253, 160, 133, 0); } }

        /* --- 5. Info Panel --- */
        .info-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: 30;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.05);
            border-radius: 30px 30px 0 0;
            display: flex; flex-direction: column;
            border-top: 1px solid rgba(255,255,255,0.8);
            position: relative;
        }
        
        .rainbow-border {
            position: absolute; top: 0; left: 20px; right: 20px; height: 4px;
            background: linear-gradient(90deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1, #fbc2eb);
            border-radius: 0 0 10px 10px; opacity: 0.7;
        }

        .fade-in-up { animation: fadeInUp 0.6s ease-out forwards; opacity: 0; transform: translateY(10px); }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

        /* --- 6. Snow & Buttons --- */
        .snowflake {
            position: fixed; top: -20px; color: #fff; text-shadow: 0 0 5px rgba(255,255,255,0.8);
            pointer-events: none; z-index: 50; animation: fall linear forwards;
        }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        .btn-gradient {
            background-size: 200% auto;
            background-image: linear-gradient(to right, #ff758c 0%, #ff7eb3 51%, #ff758c 100%);
            transition: 0.5s;
        }
        .btn-gradient:hover { background-position: right center; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255, 117, 140, 0.4); }
        .btn-prev { background: #f3f4f6; color: #9ca3af; }
        .btn-prev:hover:not(:disabled) { background: #e5e7eb; color: #6b7280; }

        /* Responsive Layout */
        @media (min-width: 768px) {
            body { display: flex; flex-direction: row; }
            /* Adjusted Layout: Map 35% */
            .map-area { width: 35%; flex: none; height: 100vh; border-bottom: none; }
            .info-panel { flex: 1; height: 100vh; border-radius: 0; border-left: 1px solid rgba(255,255,255,0.5); }
        }
        @media (max-width: 767px) {
            body { display: flex; flex-direction: column; }
            .map-area { flex: 1; width: 100%; }
            .info-panel { height: 55vh; width: 100%; }
        }
    </style>
</head>
<body>

    <!-- Snow Container -->
    <div id="snow-container"></div>

    <!-- MAP SECTION -->
    <div class="map-area" id="mapContainer">
        
        <!-- --- CREATIVE CITY ELEMENTS --- -->
        <!-- Roads (Vertical) -->
        <div class="road road-v" style="left: 20%;"></div>
        <div class="road road-v" style="left: 50%;"></div>
        <div class="road road-v" style="left: 80%;"></div>
        <!-- Roads (Horizontal) -->
        <div class="road road-h" style="top: 25%;"></div>
        <div class="road road-h" style="top: 55%;"></div>
        <div class="road road-h" style="top: 85%;"></div>

        <!-- Buildings Blocks (Malls & Places) -->
        <div class="building-block" style="top: 35%; left: 25%; width: 15%; height: 15%; background: #fee2e2;"></div> <!-- MBK Area -->
        <div class="building-block" style="top: 20%; left: 55%; width: 25%; height: 12%; background: #e0e7ff;"></div> <!-- Siam Area -->
        <div class="building-block" style="top: 15%; left: 82%; width: 10%; height: 20%; background: #dcfce7;"></div> <!-- CW Area -->
        <div class="building-block" style="top: 75%; left: 45%; width: 15%; height: 15%; background: #ffedd5;"></div> <!-- Samyan Area -->

        <!-- Decoration Container for dynamic items -->
        <div id="decorContainer"></div>

        <!-- BTS Train Animation -->
        <div class="bts-decor"><i class="fa-solid fa-train-subway"></i></div>

        <!-- Path Line -->
        <svg class="path-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
            <defs>
                <linearGradient id="rainbowGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f6d365;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#fda085;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#a18cd1;stop-opacity:1" />
                </linearGradient>
            </defs>
            <path id="routePath" d="" stroke="url(#rainbowGradient)" stroke-width="4" stroke-dasharray="8, 6" stroke-linecap="round" fill="none" />
        </svg>

        <div id="avatar">üë´</div>
    </div>

    <!-- INFO PANEL SECTION -->
    <div class="info-panel p-6">
        <div class="rainbow-border"></div>
        <div class="absolute top-4 right-6 text-3xl animate-bounce" style="animation-duration: 2s;">üéÑ</div>

        <!-- Content Area -->
        <div id="infoContent" class="flex-1 overflow-y-auto pr-2 pt-4">
            <!-- Content will be here -->
        </div>

        <!-- Controls -->
        <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center bg-transparent">
            <button id="prevBtn" onclick="move(-1)" class="btn-prev w-12 h-12 rounded-full flex items-center justify-center transition shadow-sm disabled:opacity-30 disabled:cursor-not-allowed">
                <i class="fa-solid fa-arrow-left"></i>
            </button>
            
            <div class="flex flex-col items-center">
                <span id="stepIndicator" class="text-xs font-bold text-gray-400 tracking-widest font-['Mali']">‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà 1 / 7</span>
                <div class="flex gap-1.5 mt-2" id="dotsContainer"></div>
            </div>

            <button id="nextBtn" onclick="move(1)" class="btn-gradient px-6 py-2.5 rounded-full text-white font-bold shadow-lg flex items-center gap-2 font-['Mali'] transition transform hover:scale-105">
                <span>‡πÑ‡∏õ‡∏ï‡πà‡∏≠</span> <i class="fa-solid fa-chevron-right text-xs"></i>
            </button>
        </div>
    </div>

    <script>
        // --- DATA: Storytelling Content & IMAGES ---
        const steps = [
            {
                id: 'start',
                title: "‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô üíñ",
                time: "10:00",
                desc: "‡πÄ‡∏ä‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!\n‡∏ô‡∏¥‡πâ‡∏°‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏°‡∏≤‡∏ñ‡∏∂‡∏á **BTS ‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå‡∏Ø**\n‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡∏ô ‡πÜ ‡∏ô‡∏∞ üë´\n\nüé® **Color Hunt Start:** ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!",
                icon: "fa-train-subway",
                x: 15, y: 15,
                color: "text-indigo-500",
                emoji: "üöÜ",
                link: "https://www.instagram.com/reel/DP3QZ8pD9Y4/",
                linkText: "Instagram Reels",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Bangkok_BTS_Skytrain_EMU-B1%2C_Phaya_Thai_%2820240701%29_%2854221639857%29_%28cropped%29.jpg/500px-Bangkok_BTS_Skytrain_EMU-B1%2C_Phaya_Thai_%2820240701%29_%2854221639857%29_%28cropped%29.jpg" 
            },
            {
                id: 'mbk',
                title: "‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß @MBK",
                time: "10:20 - 11:30",
                desc: "‚ú® **Activity Checklist:**\n\nüçú ‡πÅ‡∏ß‡∏∞‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ä‡πâ‡∏≤‡∏ó‡∏µ‡πà **‡∏Æ‡∏∞‡∏à‡∏¥‡∏ö‡∏±‡∏á ‡∏£‡∏≤‡πÄ‡∏°‡∏ô**\nüëï ‡∏û‡∏≤‡πÅ‡∏à‡πä‡∏Ñ‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà **GQ**\n\nüé® **Color Hunt:** ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ô‡∏∞!",
                icon: "fa-palette",
                x: 30, y: 40,
                color: "text-pink-500",
                emoji: "üçú",
                image: "https://scontent.fbkk24-1.fna.fbcdn.net/v/t39.30808-6/591841753_1251035097050059_6289163217136386386_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeHHDnhI8E8pNgkqWechc6M3p1180iG18eenXXzSIbXx5_RUC1sr6YELt9f2Dbcr3Oz9619FyLfo0CxLuXGhgwJX&_nc_ohc=VIvqiiUy8qUQ7kNvwGpTRd3&_nc_oc=AdnXhcazVqdqAcjtpZO_USy79fJDq4kFYEw9xP03LOBzTdEr8oBN2JmNAygIXJwAlFZgAAGtuL7g52Rpf9XV9gk6&_nc_zt=23&_nc_ht=scontent.fbkk24-1.fna&_nc_gid=oLcOb8kjYON3DExzDUndrg&oh=00_AfkZJ30mn-A-uXY5cTX_SVwVnXCugME8FNpHq92GdziZ3Q&oe=6951DC17"
            },
            {
                id: 'siam',
                title: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ä‡∏¥‡∏•‡∏•‡πå‡πÅ‡∏≠‡∏£‡πå‡∏â‡πà‡∏≥ @Siam Discovery & Siam Center",
                time: "11:30 - 12:30",
                desc: "üéØ **Mission:** ‡∏ï‡∏≤‡∏°‡∏´‡∏≤‡∏ú‡πâ‡∏≤‡πÄ‡∏ä‡πá‡∏î‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà **Beverly Hills Polo Club**\nüì∏ ‡πÅ‡∏ß‡∏∞‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏°‡∏∏‡∏°‡∏™‡∏ß‡∏¢ ‡πÜ ‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏ï‡πâ‡∏° Color Hunt ‡∏Å‡∏±‡∏ô!",
                icon: "fa-bag-shopping",
                x: 55, y: 25,
                color: "text-purple-500",
                emoji: "üõçÔ∏è",
                image: "https://scontent.fbkk24-1.fna.fbcdn.net/v/t1.6435-9/130251911_228876278602774_9144001303891821257_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeG-Nm8qNVVfBDpzLMkpExo7OtQMrSSk-eI61AytJKT54jWLGB_SwKv2kO0V4u6ErGnKKrR1Jes-9NqRSGB05AGM&_nc_ohc=h_Ve-CBVMf0Q7kNvwHeuUHh&_nc_oc=AdmrqvFPMvwwgE2BzLJWOyECYVymOYwBqwr3pfpxAIV0x7_VrjX3GcD4rF6Fr7FZCJfhAj0QGtGWFVe2ynu7h2Yo&_nc_zt=23&_nc_ht=scontent.fbkk24-1.fna&_nc_gid=SrPrBaCJr2JjcKYTQ_5ewA&oh=00_AfkneHYL1eW3cIGVQHix6gaZhlvOSWr5_AGB1eCLoRY0zA&oe=697384A6"
            },
            {
                id: 'cw',
                title: "CentralWorld",
                time: "12:30 - 14:00",
                desc: "‡πÄ‡∏î‡∏¥‡∏ô Skywalk ‡∏Ç‡πâ‡∏≤‡∏°‡∏°‡∏≤ Central World\nüëó ‡∏û‡∏≤‡πÑ‡∏õ‡∏î‡∏π‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô **CPS** ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡πÜ",
                icon: "fa-star",
                x: 85, y: 20,
                color: "text-green-500",
                emoji: "üéÑ",
                image: "https://www.lemon8-app.com/seo/image?item_id=7318007234477507073&index=0&sign=aabd8fee3b94ec6e6d7511008e26dd7b"
            },
            {
                id: 'sealife',
                title: "Sea Life Bangkok üêã",
                time: "14:00 - 16:30",
                desc: "ü¶à ‡πÄ‡∏î‡∏¥‡∏ô‡∏•‡∏≠‡∏î‡∏≠‡∏∏‡πÇ‡∏°‡∏á‡∏Ñ‡πå‡∏õ‡∏•‡∏≤‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ù‡∏±‡∏ô\nüì∏ ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏Ñ‡∏π‡πà **Aquarium Date** ‡∏´‡∏ß‡∏≤‡∏ô ‡πÜ",
                icon: "fa-fish",
                x: 85, y: 60,
                color: "text-blue-500",
                emoji: "üê†",
                link: "https://www.instagram.com/reel/C6oUPCASad3/?igsh=MWdqN2JmdG91Z3c1dQ==",
                linkText: "Instagram Reels",
                image: "https://product-image.globaltix.com/live-gtImage/5e437bb6-8f2f-4d9c-adee-3abf6cac7aaa"
            },
            {
                id: 'samyan',
                title: "Kokinaemsae Samyan ü•ì",
                time: "16:30 - 19:00",
                desc: "‡∏°‡∏∏‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏π‡πà‡∏™‡∏≤‡∏°‡∏¢‡πà‡∏≤‡∏ô ‡∏£‡πâ‡∏≤‡∏ô **Kokinaemsae**\nü•¢ ‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ ‡∏¢‡πà‡∏≤‡∏á‡∏£‡πâ‡∏≠‡∏ô ‡πÜ ‡∏ü‡∏¥‡∏ô ‡πÜ\n‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏≠‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤",
                icon: "fa-fire",
                x: 50, y: 85,
                color: "text-orange-500",
                emoji: "ü•©",
                link: "https://www.instagram.com/reel/C_aYI92PhA0/?igsh=MnptYXZsMDRnZWF3",
                linkText: "Instagram Reels",
                image: "https://scontent.fbkk24-1.fna.fbcdn.net/v/t39.30808-6/487449280_672188005343382_4954344718016922405_n.jpg?stp=cp6_dst-jpg_tt6&_nc_cat=103&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGl22VZJjzh9WBIj7GATLn80Iwm87tPuLnQjCbzu0-4uWcw9e63F4hR9rNB4fl9hvx4iq7_b-9WTVh3A8PLRVp0&_nc_ohc=vVCD6_48vf4Q7kNvwFa6CWs&_nc_oc=Admm1qsi49dbU7VbHvyIOx9OKClytB7jq9sJxCsJMFlkj5ikaXMehxMPjT2DELyKvWEdX4_qkOkyT3PEEdXKG9_r&_nc_zt=23&_nc_ht=scontent.fbkk24-1.fna&_nc_gid=BEbMkxjidyDFPgKclOGZZg&oh=00_AfkRrzMLfcYqICsM66bAI-NIEpniZy3mfdyPq3I2MGLp0g&oe=6951B548"
            },
            {
                id: 'home',
                title: "‡∏Å‡∏•‡∏±‡∏ö Bangkok Park üå≥",
                time: "19:00 ++",
                desc: "‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå‡∏Ø ‡∏ï‡πà‡∏≠‡∏£‡∏ñ‡∏Å‡∏•‡∏±‡∏ö‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï\n‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ô‡∏∞ üíï\nüöê **Note:** ‡∏£‡∏ñ‡∏ï‡∏π‡πâ‡∏´‡∏°‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 3 ‡∏ó‡∏∏‡πà‡∏° ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏£‡∏ñ‡∏ï‡∏π‡πâ‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô ‡∏Å‡πá‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏±‡∏ô",
                icon: "fa-tree",
                x: 15, y: 85,
                color: "text-green-600",
                emoji: "üçÉ",
                image: "https://scontent.fbkk24-1.fna.fbcdn.net/v/t1.6435-9/60892060_2300057706899703_5986836067301457920_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeEILTL4GbfGTnk004kdP_k3Lj0JSIkHzoMuPQlIiQfOg-6T75erWhyml_WSVc7Phs3Y3qh1SOidvnnaAjlF8cwN&_nc_ohc=RSFrIsHWtEEQ7kNvwGqtf2X&_nc_oc=AdmXtb7OqBQy4vOWQxjergGb0dquwlWgJl325ReiB8fE5h2UebMp_0oM7QfqxoEggvjPBGYMF-Q0mCbdtJ2hovG9&_nc_zt=23&_nc_ht=scontent.fbkk24-1.fna&_nc_gid=GsskLDBWamSaFKp8kaI-qQ&oh=00_Afmwt6TAZzJoUylAcGsuKKWGVhRSxxAYe0_judY4NHDqmA&oe=697375BD"
            }
        ];

        // --- VARS ---
        let currentStep = 0;
        const avatar = document.getElementById('avatar');
        const mapContainer = document.getElementById('mapContainer');
        
        // --- FUNCTION: Add Decoration Trees/Buildings ---
        function createMapDecor() {
            const container = document.getElementById('decorContainer');
            // Add Random Trees
            for (let i = 0; i < 15; i++) {
                const tree = document.createElement('i');
                tree.className = 'fa-solid fa-tree map-tree';
                tree.style.left = Math.random() * 90 + 5 + '%';
                tree.style.top = Math.random() * 90 + 5 + '%';
                tree.style.fontSize = (Math.random() * 10 + 10) + 'px';
                container.appendChild(tree);
            }
            // Add some car icons
            for (let i = 0; i < 3; i++) {
                 const car = document.createElement('i');
                 car.className = 'fa-solid fa-car-side absolute text-gray-400 text-sm';
                 car.style.left = (20 + i*10) + '%';
                 car.style.top = '26%'; // On horizontal road
                 container.appendChild(car);
            }
        }
        
        // --- INIT ---
        function init() {
            // Draw Map Elements
            steps.forEach((step, index) => {
                const el = document.createElement('div');
                el.className = `landmark`;
                el.style.left = step.x + '%';
                el.style.top = step.y + '%';
                el.innerHTML = `
                    <div class="landmark-icon">
                        <i class="fa-solid ${step.icon}"></i>
                    </div>
                    <div class="landmark-label">${step.id.toUpperCase()}</div>
                `;
                el.onclick = () => jumpTo(index);
                mapContainer.appendChild(el);
            });

            // Draw Path
            let pathD = `M ${steps[0].x} ${steps[0].y}`;
            steps.forEach((step, index) => {
                if (index > 0) pathD += ` L ${step.x} ${step.y}`;
            });
            document.getElementById('routePath').setAttribute('d', pathD);

            // Create Dots
            const dotsCont = document.getElementById('dotsContainer');
            steps.forEach(() => {
                const dot = document.createElement('div');
                dot.className = "w-2.5 h-2.5 rounded-full bg-gray-300 transition-all duration-300";
                dotsCont.appendChild(dot);
            });
            
            // Create Decor
            createMapDecor();

            updateView();
            createSnow();
        }

        // --- ACTIONS ---
        function move(dir) {
            const next = currentStep + dir;
            if (next >= 0 && next < steps.length) {
                currentStep = next;
                updateView();
            }
        }

        function jumpTo(index) {
            currentStep = index;
            updateView();
        }

        function updateView() {
            const step = steps[currentStep];

            // 1. Move Avatar
            avatar.classList.add('walking');
            avatar.style.left = step.x + '%';
            avatar.style.top = step.y + '%';
            setTimeout(() => avatar.classList.remove('walking'), 1200);

            // 2. Update Landmarks
            document.querySelectorAll('.landmark').forEach((el, idx) => {
                el.classList.remove('active', 'visited');
                if (idx === currentStep) el.classList.add('active');
                if (idx < currentStep) el.classList.add('visited');
            });

            // 3. Update Text Content (with Image)
            const formattedDesc = step.desc.replace(/\*\*(.*?)\*\*/g, '<span class="text-pink-600 font-bold">$1</span>').replace(/\n/g, '<br>');
            
            const contentHTML = `
                <div class="fade-in-up">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-3 py-1 bg-white border border-pink-100 rounded-full text-xs text-pink-500 font-bold shadow-sm">
                            <i class="fa-regular fa-clock"></i> ${step.time}
                        </span>
                        <span class="text-2xl">${step.emoji}</span>
                    </div>
                    
                    <h1 class="text-2xl md:text-3xl font-bold ${step.color} mb-3 handwritten leading-tight text-transparent bg-clip-text bg-gradient-to-r from-gray-700 to-gray-500">
                        ${step.title}
                    </h1>

                    <!-- Photo Card -->
                    <div class="mb-4 relative group">
                        <div class="absolute -inset-1 bg-gradient-to-r from-pink-300 to-purple-300 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                        <div class="relative bg-white p-2 rounded-xl shadow-sm border border-gray-100">
                            <img src="${step.image}" class="w-full aspect-video object-cover rounded-lg" alt="${step.title}">
                        </div>
                    </div>

                    <div class="p-4 bg-white/50 rounded-2xl border border-white shadow-sm">
                        <p class="text-gray-600 leading-relaxed font-light text-sm md:text-base">
                            ${formattedDesc}
                        </p>
                    </div>

                    ${step.link ? `
                    <a href="${step.link}" target="_blank" class="mt-4 inline-flex items-center gap-2 text-white bg-gradient-to-r from-purple-400 to-pink-400 hover:from-purple-500 hover:to-pink-500 px-5 py-2.5 rounded-xl shadow-md transition transform hover:scale-105 w-full justify-center">
                        <i class="fa-brands fa-instagram text-xl"></i> 
                        <span class="font-['Mali']">${step.linkText}</span>
                    </a>
                    ` : ''}
                </div>
            `;
            document.getElementById('infoContent').innerHTML = contentHTML;

            // 4. Update Controls with FIXED Logic
            document.getElementById('prevBtn').disabled = currentStep === 0;
            const nextBtn = document.getElementById('nextBtn');
            const nextBtnSpan = nextBtn.querySelector('span');

            // Reset classes to base state
            nextBtn.className = "px-6 py-2.5 rounded-full text-white font-bold shadow-lg flex items-center gap-2 font-['Mali'] transition transform hover:scale-105";
            
            if (currentStep === steps.length - 1) {
                nextBtnSpan.innerText = '‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á';
                // Add Green/Teal Gradient for Finish
                nextBtn.classList.add('bg-gradient-to-r', 'from-green-400', 'to-teal-500');
            } else {
                nextBtnSpan.innerText = '‡πÑ‡∏õ‡∏ï‡πà‡∏≠';
                // Add Pink Gradient for Next
                nextBtn.classList.add('btn-gradient'); 
            }

            document.getElementById('stepIndicator').innerText = `‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà ${currentStep + 1} / ${steps.length}`;

            // 5. Update Dots
            const dots = document.getElementById('dotsContainer').children;
            for (let i = 0; i < dots.length; i++) {
                dots[i].className = "w-2.5 h-2.5 rounded-full transition-all duration-300 " + 
                    (i === currentStep ? "bg-gradient-to-r from-pink-500 to-purple-500 w-6" : 
                     i < currentStep ? "bg-green-400" : "bg-gray-200");
            }
        }

        // --- SNOW EFFECT ---
        function createSnow() {
            const container = document.getElementById('snow-container');
            const symbols = ['‚ùÑ', '‚ú®', '‚≠ê', 'üå®Ô∏è'];
            
            setInterval(() => {
                const snowflake = document.createElement('div');
                const symbol = symbols[Math.floor(Math.random() * symbols.length)];
                snowflake.innerText = symbol;
                snowflake.classList.add('snowflake');
                
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.animationDuration = (Math.random() * 3 + 4) + 's';
                
                container.appendChild(snowflake);

                setTimeout(() => { snowflake.remove(); }, 7000);
            }, 300);
        }

        window.onload = init;

    </script>
</body>
</html>
